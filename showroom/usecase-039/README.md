# データ分析と可視化レポート生成

このサンプルは、OpenAI Responses APIを使用してデータ分析とインサイト抽出を行い、対話的なレポートを生成する方法を示しています。

## 機能

- CSV/JSONデータの自動分析と洞察抽出
- データの傾向・パターン・異常値の検出
- 分析結果のわかりやすい説明生成
- HTMLレポートとしての出力
- 対話形式でのデータ探索

## 利用方法

1. 必要なパッケージをインストールします:
```bash
pip install -r requirements.txt
```

2. ルートディレクトリに `.env` ファイルを作成し、OpenAI APIキーを設定します:
```
OPENAI_API_KEY=your_api_key_here
```

3. 以下のコマンドでアプリケーションを実行します:
```bash
python main.py
```

4. サンプルデータが分析され、結果がコンソールに表示されます。
   - 独自のデータファイル（CSV/JSON）を `--file` パラメータで指定することもできます。
   - 例：`python main.py --file my_data.csv`

## ユースケース

このサンプルは以下のようなシナリオで役立ちます:

- ビジネスデータの迅速な分析とインサイト抽出
- マーケティングデータのパターン検出
- 経営者向けの簡潔でわかりやすいデータ要約
- データサイエンティスト・アナリスト向けの初期データ探索
- 非技術者向けのデータ説明

## 実装詳細

- OpenAI GPT-4oモデルを使用したデータ分析
- JSONレスポンス形式での構造化された分析結果
- サンプルデータセットとしての販売・マーケティングデータ
- Richライブラリを使用した魅力的なコンソール出力
- Jinja2テンプレートによるHTMLレポート生成

## API仕様の注意点

このサンプルではOpenAI APIの`response_format`パラメータを使用して、JSON形式での回答を要求しています。
分析結果は以下の構造でレスポンスされます：

```json
{
  "summary": "データセットの全体概要",
  "key_metrics": {
    "metric1": "値と説明",
    "metric2": "値と説明"
  },
  "insights": [
    "主要な発見1",
    "主要な発見2"
  ],
  "trends": [
    "検出された傾向1",
    "検出された傾向2"
  ],
  "recommendations": [
    "推奨アクション1",
    "推奨アクション2"
  ]
}
```